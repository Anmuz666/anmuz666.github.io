{"ast":null,"code":"import APlayer from \"vue-aplayer\";\nexport default {\n  name: \"DefaultLayout\",\n  components: {\n    APlayer\n  },\n  data() {\n    return {\n      // 音频列表\n      audio: [{}],\n      isShow: false\n    };\n  },\n  created() {\n    console.log(window.localStorage);\n  },\n  mounted() {\n    this.getMusic();\n  },\n  beforeDestroy() {\n    this.isShow = false;\n  },\n  methods: {\n    getMusic() {\n      this.$nextTick(() => {\n        // this.$axios.$request({\n        //   url: '/songs/list',\n        //   method: 'get'\n        // }).then((res) => {\n        //   this.audio = res\n        //   // 如果不使用 v-if，会导致播放器已经渲染好了才给值，那自动播放会失效\n        this.isShow = true;\n        // })\n      });\n    }\n  }\n};","map":{"version":3,"names":["APlayer","name","components","data","audio","isShow","created","console","log","window","localStorage","mounted","getMusic","beforeDestroy","methods","$nextTick"],"sources":["src/views/test/listening.vue"],"sourcesContent":["<template>\r\n  <a-player\r\n    v-if=\"isShow\"\r\n    :music=\"audio[0]\"\r\n    :list=\"audio\"\r\n    :showlrc=\"true\"\r\n    float\r\n    autoplay\r\n    mode=\"circulation\"\r\n    repeat=\"repeat-all\"\r\n    :style=\"{ width: '100%'}\"\r\n  />\r\n</template>\r\n \r\n<script>\r\nimport APlayer from \"vue-aplayer\";\r\n\r\nexport default {\r\n  name: \"DefaultLayout\",\r\n  components: { APlayer },\r\n  data() {\r\n    return {\r\n      // 音频列表\r\n      audio: [\r\n        {}\r\n      ],\r\n      isShow: false\r\n    };\r\n  },\r\n  created() {\r\n    console.log(window.localStorage);\r\n  },\r\n  mounted() {\r\n    this.getMusic();\r\n  },\r\n  beforeDestroy() {\r\n    this.isShow = false;\r\n  },\r\n  methods: {\r\n    getMusic() {\r\n      this.$nextTick(() => {\r\n        // this.$axios.$request({\r\n        //   url: '/songs/list',\r\n        //   method: 'get'\r\n        // }).then((res) => {\r\n        //   this.audio = res\r\n        //   // 如果不使用 v-if，会导致播放器已经渲染好了才给值，那自动播放会失效\r\n          this.isShow = true\r\n        // })\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>"],"mappings":"AAeA,OAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACA;MACAC,KAAA,GACA,GACA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA,CAAAC,MAAA,CAAAC,YAAA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;EACA;EACAC,cAAA;IACA,KAAAR,MAAA;EACA;EACAS,OAAA;IACAF,SAAA;MACA,KAAAG,SAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAAV,MAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}